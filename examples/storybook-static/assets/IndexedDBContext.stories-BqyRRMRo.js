import{j as e}from"./jsx-runtime-ClZEHPQQ.js";import{r as n}from"./index-Cqyox1Tj.js";import{C as K,I as d,B as a}from"./input-q-Q2josW.js";import{I as G,u as V}from"./IndexedDBContext-DjiG6O41.js";import"./IndexedDBStateContext-3CmpSJpb.js";import{t as _,T as E}from"./toaster-C0pIZr3P.js";import"./index-C2TgfdXk.js";import"./index-D-LGQApf.js";const z={title:"Context/IndexedDBContext",component:()=>null,parameters:{docs:{}}},O=()=>{window.alert=t=>{_({title:"Alert",description:t,duration:3e3})};const[s,m]=n.useState("myKey"),[o,u]=n.useState("Hello Context"),[h,p]=n.useState(),[y,j]=n.useState([]),[g,C]=n.useState([]),{loading:l,setItem:S,getItem:N,deleteItem:f,getAll:I,keys:v,clear:w}=V(),k=async()=>{await S("demoStore",s,o),alert(`✅ Set "${s}" = "${o}"`)},b=async()=>{const t=await N("demoStore",s);p(t)},D=async()=>{await f("demoStore",s),alert(`🗑️ Deleted "${s}"`)},A=async()=>{await w("demoStore"),alert("🧹 Cleared all entries")},B=async()=>{const t=await v("demoStore");j(t)},P=async()=>{const t=await I("demoStore");C(t)};return l?e.jsx("p",{className:"text-center",children:"Loading IndexedDB..."}):e.jsxs("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:[e.jsx(E,{}),e.jsxs(K,{className:"p-6 space-y-6 max-w-xl mx-auto bg-white rounded-xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-center",children:"🔌 Context Playground"}),e.jsxs("p",{className:"text-center",children:["Status: ",e.jsx("strong",{children:l?"Loading...":"Ready ✅"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(d,{placeholder:"Key",value:s,onChange:t=>m(t.target.value)}),e.jsx(d,{placeholder:"Value",value:o,onChange:t=>u(t.target.value)}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(a,{onClick:k,children:"💾 Set Item"}),e.jsx(a,{onClick:b,children:"🔍 Get Item"}),e.jsx(a,{onClick:D,children:"❌ Delete Item"}),e.jsx(a,{variant:"destructive",onClick:A,children:"🧹 Clear Store"})]})]}),e.jsxs("div",{className:"space-x-2 flex",children:[e.jsx(a,{onClick:P,children:"📦 Get All Values"}),e.jsx(a,{onClick:B,children:"🗂️ Get All Keys"})]}),e.jsxs("div",{className:"space-y-2 mt-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Fetched value:"})," ",e.jsx("span",{className:"text-blue-700",children:h??"(not found)"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"All keys:"})," ",e.jsx("code",{className:"text-sm",children:JSON.stringify(y)})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"All values:"})," ",e.jsx("code",{className:"text-sm",children:JSON.stringify(g)})]})]})]})]})},r=()=>e.jsx(G,{options:{dbName:"storybook-db",storeNames:["demoStore"]},children:e.jsx(O,{})});r.__docgenInfo={description:"",methods:[],displayName:"Playground"};var c,i,x;r.parameters={...r.parameters,docs:{...(c=r.parameters)==null?void 0:c.docs,source:{originalSource:`() => <IndexedDBProvider options={{
  dbName: "storybook-db",
  storeNames: ["demoStore"]
}}>\r
    <PlaygroundContent />\r
  </IndexedDBProvider>`,...(x=(i=r.parameters)==null?void 0:i.docs)==null?void 0:x.source}}};const M=["Playground"];export{r as Playground,M as __namedExportsOrder,z as default};
