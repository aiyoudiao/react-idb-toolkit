import{r as n,j as a}from"./index-BN3Fa61G.js";import{I as i}from"./card-CLExnI2K.js";function l(t){const[d,r]=n.useState(!0),e=n.useMemo(()=>new i(t),[t.dbName,t.version,t.storeNames]);return n.useEffect(()=>{e.init().then(()=>r(!1)).catch(o=>{console.error("Failed to initialize IndexedDBHelper:",o),r(!1)})},[e]),{loading:d,getItem:e.getItem.bind(e),setItem:e.setItem.bind(e),deleteItem:e.deleteItem.bind(e),clear:e.clear.bind(e),getAll:e.getAll.bind(e),keys:e.keys.bind(e)}}const s=n.createContext(null),c=({options:t,children:d})=>{const r=l(t);return a.jsx(s.Provider,{value:r,children:d})},I=()=>{const t=n.useContext(s);if(!t)throw new Error("useIndexedDBContext must be used within an IndexedDBProvider");return t};export{c as I,l as a,I as u};
