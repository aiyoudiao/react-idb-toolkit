import{j as i}from"./index-DE9RcmX1.js";import{r as n}from"./index-Cqyox1Tj.js";import{a}from"./toaster-DPEVdQf6.js";function c(t){const[d,r]=n.useState(!0),e=n.useMemo(()=>new a(t),[t.dbName,t.version,t.storeNames]);return n.useEffect(()=>{e.init().then(()=>r(!1)).catch(o=>{console.error("Failed to initialize IndexedDBHelper:",o),r(!1)})},[e]),{loading:d,getItem:e.getItem.bind(e),setItem:e.setItem.bind(e),deleteItem:e.deleteItem.bind(e),clear:e.clear.bind(e),getAll:e.getAll.bind(e),keys:e.keys.bind(e)}}const s=n.createContext(null),l=({options:t,children:d})=>{const r=c(t);return i.jsx(s.Provider,{value:r,children:d})},I=()=>{const t=n.useContext(s);if(!t)throw new Error("useIndexedDBContext must be used within an IndexedDBProvider");return t};l.__docgenInfo={description:"",methods:[],displayName:"IndexedDBProvider",props:{children:{required:!0,tsType:{name:"ReactNode"},description:""},options:{required:!0,tsType:{name:"IndexedDBOptions"},description:""}}};export{l as I,c as a,I as u};
