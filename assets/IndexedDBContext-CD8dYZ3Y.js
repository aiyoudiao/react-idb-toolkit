import{j as e,r as a,I as c,B as l}from"./index-B-TpPWaL.js";import{I as b,u as D}from"./IndexedDBContext-h4ZJdYrP.js";import{C as K}from"./card-C_3OSeQy.js";const B=()=>{const[t,o]=a.useState("myKey"),[n,d]=a.useState("Hello Context"),[i,x]=a.useState(),[h,m]=a.useState([]),[u,j]=a.useState([]),{loading:r,setItem:y,getItem:p,deleteItem:g,getAll:S,keys:C,clear:N}=D(),f=async()=>{await y("demoStore",t,n),alert(`✅ Set "${t}" = "${n}"`)},v=async()=>{const s=await p("demoStore",t);x(s)},I=async()=>{await g("demoStore",t),alert(`🗑️ Deleted "${t}"`)},k=async()=>{await N("demoStore"),alert("🧹 Cleared all entries")},w=async()=>{const s=await C("demoStore");m(s)},A=async()=>{const s=await S("demoStore");j(s)};return r?e.jsx("p",{className:"text-center",children:"Loading IndexedDB..."}):e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:e.jsxs(K,{className:"p-6 space-y-6 max-w-xl mx-auto bg-white rounded-xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-center",children:"🔌 Context Playground"}),e.jsxs("p",{className:"text-center",children:["Status: ",e.jsx("strong",{children:r?"Loading...":"Ready ✅"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{placeholder:"Key",value:t,onChange:s=>o(s.target.value)}),e.jsx(c,{placeholder:"Value",value:n,onChange:s=>d(s.target.value)}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(l,{onClick:f,children:"💾 Set Item"}),e.jsx(l,{onClick:v,children:"🔍 Get Item"}),e.jsx(l,{onClick:I,children:"❌ Delete Item"}),e.jsx(l,{variant:"destructive",onClick:k,children:"🧹 Clear Store"})]})]}),e.jsxs("div",{className:"space-x-2 flex",children:[e.jsx(l,{onClick:A,children:"📦 Get All Values"}),e.jsx(l,{onClick:w,children:"🗂️ Get All Keys"})]}),e.jsxs("div",{className:"space-y-2 mt-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Fetched value:"})," ",e.jsx("span",{className:"text-blue-700",children:i??"(not found)"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"All keys:"})," ",e.jsx("code",{className:"text-sm",children:JSON.stringify(h)})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"All values:"})," ",e.jsx("code",{className:"text-sm",children:JSON.stringify(u)})]})]})]})})},$=()=>e.jsx(b,{options:{dbName:"storybook-db",storeNames:["demoStore"]},children:e.jsx(B,{})});export{$ as default};
