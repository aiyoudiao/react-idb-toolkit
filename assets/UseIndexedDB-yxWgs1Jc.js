import{r as a,j as e,I as r,B as l}from"./index-B-TpPWaL.js";import{a as D}from"./IndexedDBContext-h4ZJdYrP.js";import{C as b}from"./card-C_3OSeQy.js";const V=()=>{const[t,d]=a.useState("myKey"),[n,o]=a.useState("Hello IndexedDB"),[i,x]=a.useState(),[h,m]=a.useState([]),[u,j]=a.useState([]),{loading:c,setItem:y,getItem:p,deleteItem:g,getAll:S,keys:N,clear:f}=D({dbName:"storybook-db",storeNames:["demoStore"]}),v=async()=>{await y("demoStore",t,n),alert(`✅ Set "${t}" = "${n}"`)},C=async()=>{const s=await p("demoStore",t);x(s)},I=async()=>{await g("demoStore",t),alert(`🗑️ Deleted "${t}"`)},k=async()=>{const s=await S("demoStore");j(s)},w=async()=>{const s=await N("demoStore");m(s)},A=async()=>{await f("demoStore"),alert("🧹 Cleared all entries")};return c?e.jsx("p",{className:"text-center",children:"Loading IndexedDB..."}):e.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",style:{height:"100vh"},children:e.jsxs(b,{className:"p-6 space-y-6 max-w-xl mx-auto bg-white rounded-xl shadow-md",children:[e.jsx("h2",{className:"text-xl font-semibold text-center",children:"🧪 useIndexedDB Playground"}),e.jsxs("p",{className:"text-center",children:["Status: ",e.jsx("strong",{children:c?"Loading...":"Ready ✅"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(r,{placeholder:"Key",value:t,onChange:s=>d(s.target.value)}),e.jsx(r,{placeholder:"Value",value:n,onChange:s=>o(s.target.value)}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(l,{onClick:v,children:"💾 Set Item"}),e.jsx(l,{onClick:C,children:"🔍 Get Item"}),e.jsx(l,{onClick:I,children:"❌ Delete Item"}),e.jsx(l,{variant:"destructive",onClick:A,children:"🧹 Clear Store"})]})]}),e.jsxs("div",{className:"space-x-2 flex",children:[e.jsx(l,{onClick:k,children:"📦 Get All Values"}),e.jsx(l,{onClick:w,children:"🗂️ Get All Keys"})]}),e.jsxs("div",{className:"space-y-2 mt-6",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Fetched value:"})," ",e.jsx("span",{className:"text-blue-700",children:i??"(not found)"})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"All keys:"})," ",e.jsx("code",{className:"text-sm",children:JSON.stringify(h)})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"All values:"})," ",e.jsx("code",{className:"text-sm",children:JSON.stringify(u)})]})]})]})})};export{V as default};
