import{r as t}from"./index-CN-moKEq.js";import{I}from"./card-BsEsqHi3.js";function y(a){const[n,u]=t.useState(!0),e=t.useRef(null);t.useEffect(()=>{const r=new I(a);r.init().then(()=>{e.current=r,u(!1)}).catch(c=>{console.error("Failed to initialize IndexedDBHelper:",c),u(!1)})},[a]);const s=t.useCallback(async(r,c)=>{if(e.current)return await e.current.getItem(r,c)},[n,e.current]),l=t.useCallback(async(r,c,m)=>{e.current&&await e.current.setItem(r,c,m)},[n,e.current]),i=t.useCallback(async(r,c)=>{e.current&&await e.current.deleteItem(r,c)},[n,e.current]),o=t.useCallback(async r=>{e.current&&await e.current.clear(r)},[n,e.current]),f=t.useCallback(async r=>{if(e.current)return await e.current.getAll(r)},[n,e.current]),d=t.useCallback(async r=>{if(e.current)return await e.current.keys(r)},[n,e.current]);return{loading:n,getItem:s,setItem:l,deleteItem:i,clear:o,getAll:f,keys:d}}export{y as u};
